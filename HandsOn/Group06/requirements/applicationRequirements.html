<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Application Requirements ‚Äì The Waiting Game</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root { --bg:#0b1020; --card:#121936; --ink:#e8ecff; --muted:#aab4e6; --ok:#22c55e; --warn:#f59e0b; --no:#ef4444; --accent:#8b5cf6; --orange:#FF6B35;}
    html,body{margin:0;padding:0;background:var(--bg);color:var(--ink);font:16px/1.55 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial}
    main{max-width:980px;margin:40px auto;padding:0 20px 60px}
    h1{font-size:1.9rem;margin:0 0 12px}
    h2{font-size:1.25rem;margin:28px 0 8px;color:#fff}
    p,li{color:var(--muted)}
    .card{background:var(--card);border:1px solid rgba(255,255,255,.06);border-radius:16px;padding:18px 20px;margin:16px 0}
    .grid{display:grid;gap:16px}
    .grid-2{grid-template-columns:1fr 1fr}
    code, pre{background:#0e1530;color:#cde1ff;border:1px solid rgba(255,255,255,.08);border-radius:10px;padding:.15rem .35rem}
    .badge{display:inline-block;font-size:.8rem;padding:.18rem .5rem;border-radius:999px;border:1px solid rgba(255,255,255,.18);margin-left:.4rem;font-weight:600}
    .ok{color:#052d18;background:linear-gradient(0deg,#19d27f22,#19d27f22);border-color:#19d27f66}
    a{color:#b9c4ff}
    .small{font-size:.92rem}
    .dim{color:#90a0e6}
    .callout{border-left:4px solid var(--accent);padding:10px 14px;background:#0f1633;border-radius:10px;margin:12px 0}
    .screenshot{width:100%;max-width:420px;border-radius:16px;border:2px solid rgba(255,255,255,.1);box-shadow:0 8px 32px rgba(0,0,0,.4);margin:20px auto;display:block}
    .screenshots-grid{display:grid;grid-template-columns:1fr 1fr;gap:24px;margin:24px 0}
    @media (max-width: 768px){.screenshots-grid{grid-template-columns:1fr}}
    .highlight{color:#fff;font-weight:600}
    ul li{margin:8px 0}
    .data-flow{background:#0f1633;border-radius:12px;padding:16px;margin:16px 0}
    .data-flow-item{display:flex;align-items:center;gap:12px;margin:10px 0}
    .data-flow-icon{background:var(--orange);color:#fff;width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;flex-shrink:0}
  </style>
</head>
<body>
<main>
  <header>
    <h1>Application Requirements ‚Äî The Waiting Game</h1>
    <p class="dim small">
      A gamified public transit app that turns waiting into competition. Users predict real bus/train wait times and compete on accuracy and patience leaderboards.
    </p>
  </header>

  <section class="card">
    <h2>App Concept</h2>
    <p><span class="highlight">The Waiting Game</span> transforms the boring experience of waiting for public transport into a playful social competition. Users select their destination, see the estimated wait time based on real GTFS schedule data, predict whether the estimate is accurate, and earn points for patience and precision.</p>
    
    <div class="callout small">
      <strong>Core Mechanic:</strong> Guess how long you'll actually wait vs. the official schedule ‚Üí Track real arrival ‚Üí Compare prediction ‚Üí Climb leaderboards.
    </div>
  </section>

  <section class="card">
    <h2>How It Works</h2>
    
    <div class="grid grid-2 small">
      <div>
        <h3 style="color:#fff;font-size:1rem;margin:8px 0">1. Select Destination</h3>
        <p>User searches for where they want to go. App shows nearest transit stop and route options from their GPS location.</p>
      </div>
      <div>
        <h3 style="color:#fff;font-size:1rem;margin:8px 0">2. See Estimated Wait</h3>
        <p>App calculates wait time using GTFS schedule data (stop times, current time, service calendar).</p>
      </div>
      <div>
        <h3 style="color:#fff;font-size:1rem;margin:8px 0">3. Make Your Guess</h3>
        <p>User chooses: <strong>Agree</strong> with estimate, or adjust prediction with <strong>Add Time</strong> / <strong>Take Time</strong> buttons.</p>
      </div>
      <div>
        <h3 style="color:#fff;font-size:1rem;margin:8px 0">4. Wait & Track</h3>
        <p>Real-time countdown starts. When the vehicle arrives (detected via GTFS Realtime or manual confirmation), app calculates accuracy and awards points.</p>
      </div>
    </div>
  </section>

  <section class="card">
    <h2>Data Usage ‚Äî GTFS Static Feed</h2>
    <p>The app uses the <strong>AMAT Palermo GTFS dataset</strong> to power all transit functionality:</p>
    
    <div class="data-flow">
      <div class="data-flow-item">
        <div class="data-flow-icon">üìç</div>
        <div><code>stops.txt</code> ‚Äî Find nearest stops to user's GPS location (<code>stop_lat</code>, <code>stop_lon</code>, <code>stop_name</code>)</div>
      </div>
      <div class="data-flow-item">
        <div class="data-flow-icon">üöå</div>
        <div><code>routes.txt</code> ‚Äî Display route names and numbers (<code>route_short_name</code>, <code>route_long_name</code>)</div>
      </div>
      <div class="data-flow-item">
        <div class="data-flow-icon">üïí</div>
        <div><code>stop_times.txt</code> ‚Äî Calculate next arrival time (<code>arrival_time</code>, <code>departure_time</code> by <code>trip_id</code> + <code>stop_id</code>)</div>
      </div>
      <div class="data-flow-item">
        <div class="data-flow-icon">üìÖ</div>
        <div><code>calendar.txt</code> / <code>calendar_dates.txt</code> ‚Äî Check if service runs today (weekday rules, exceptions)</div>
      </div>
      <div class="data-flow-item">
        <div class="data-flow-icon">üó∫Ô∏è</div>
        <div><code>shapes.txt</code> ‚Äî Display route path on map (<code>shape_pt_lat</code>, <code>shape_pt_lon</code>)</div>
      </div>
      <div class="data-flow-item">
        <div class="data-flow-icon">üöè</div>
        <div><code>trips.txt</code> ‚Äî Link routes to specific trips (<code>trip_id</code>, <code>route_id</code>, <code>service_id</code>)</div>
      </div>
    </div>

    <div class="callout small">
      <strong>Real-time Enhancement (Future):</strong> Integrate GTFS Realtime feed to detect actual vehicle positions and confirm arrivals automatically instead of manual confirmation.
    </div>
  </section>

  <section class="card">
    <h2>User Interface</h2>
    
    <div class="screenshots-grid">
      <div>
        <h3 style="color:#fff;font-size:1.05rem;margin:0 0 12px;text-align:center">Main Prediction Screen</h3>
        <img src="Screenshot1.png" alt="Main page with map and prediction interface" class="screenshot" />
        <p class="small" style="text-align:center;margin-top:12px">Interactive map shows user location, nearby stops, and route. Users select destination, see estimated wait, and submit their guess with Agree/Add/Take Time buttons.</p>
      </div>
      
      <div>
        <h3 style="color:#fff;font-size:1.05rem;margin:0 0 12px;text-align:center">Leaderboards</h3>
        <img src="Screenshot2.png" alt="Leaderboards with rankings and social features" class="screenshot" />
        <p class="small" style="text-align:center;margin-top:12px">Compete on two leaderboards: <strong>Longest Waiters</strong> (total time waited) and <strong>Master Guessers</strong> (prediction accuracy). Social features let users taunt friends and react to waiting achievements.</p>
      </div>
    </div>
  </section>

  <section class="card">
    <h2>Key Features</h2>
    <ul>
      <li><strong>Real GTFS Data Integration:</strong> All wait times calculated from actual Palermo transit schedules</li>
      <li><strong>GPS-Based Stop Detection:</strong> Automatic nearest stop finding using geocoordinates from <code>stops.txt</code></li>
      <li><strong>Route Visualization:</strong> Map shows route paths using <code>shapes.txt</code> polyline data</li>
      <li><strong>Schedule-Aware:</strong> Respects service calendars (weekday/weekend, exceptions) for accurate predictions</li>
      <li><strong>Dual Leaderboards:</strong> Rankings for both total waiting endurance and guess accuracy</li>
      <li><strong>Social Competition:</strong> Taunt friends, react with emojis, track streaks and achievements</li>
      <li><strong>Mobile-First Design:</strong> Optimized for on-the-go use at bus stops</li>
    </ul>
  </section>

</main>
</body>
</html>

