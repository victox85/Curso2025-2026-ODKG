<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <title>Analysis</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body {
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      max-width: 1300px;
      margin: 40px auto;
      line-height: 1.6;
      color: #111;
      background: #fafafa;
    }

    h1,
    h2,
    h3 {
      color: #003366;
    }

    section {
      background: #fff;
      padding: 16px 22px;
      border-radius: 10px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
      margin-bottom: 24px;
    }

    a {
      color: #004d99;
      text-decoration: none;
    }

    code {
      background: #f4f4f4;
      padding: 2px 6px;
      border-radius: 3px;
      font-family: "Courier New", monospace;
      font-size: 0.9em;
      color: #d63384;
    }

    .code-block {
      background: #f8f9fa;
      padding: 12px;
      border-left: 3px solid #004d99;
      border-radius: 4px;
      overflow-x: auto;
      margin: 12px 0;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin: 16px 0;
    }

    th,
    td {
      padding: 10px;
      text-align: left;
      border-bottom: 1px solid #ddd;
    }

    th {
      background: #f0f4f8;
      font-weight: 600;
    }

    ul {
      margin: 10px 0;
    }

    li {
      margin: 6px 0;
    }

    footer {
      font-size: 0.9rem;
      color: #555;
      margin-top: 24px;
      text-align: center;
    }
  </style>
</head>

<body>
  <h1>Licence and Data Set Analysis</h1>
  <section>
    <h2>Publisher and Rightsholder</h2>
    <p>
      The <strong>Consorcio Regional de Transportes de Madrid (CRTM)</strong> is the publisher and rightsholder
      of the dataset <em>"GTFS - Urban Bus Network"</em>, available at
      <a href="https://datos.crtm.es/datasets/357e63c2904f43aeb5d8a267a64346d8/about" target="_blank">
        datos.crtm.es
      </a>.
    </p>
  </section>
  <section>
    <h2>License</h2>
    <p>
      The dataset is published under the
      <strong>CRTM Open and Static Data License (LDA)</strong>.
      This license allows free reuse for both commercial and non-commercial purposes, provided that the following
      conditions are met:
    </p>
    <ul>
      <li>Mandatory attribution: <em>"Powered by Consorcio Regional de Transportes de Madrid (CRTM)"</em>.</li>
      <li>Preservation of metadata and provenance information.</li>
      <li>No implication of sponsorship or endorsement by the CRTM.</li>
      <li>Link to the license and to the official portal: <a href="https://www.crtm.es/"
          target="_blank">www.crtm.es</a>.</li>
    </ul>
  </section>
  <section>
    <h2>License for Generated Dataset</h2>
    <p>
      The generated dataset is licensed under the
      <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank">
        Creative Commons Attribution 4.0 International (CC BY 4.0)
      </a>.
      This license allows sharing and adaptation for any purpose, including commercial use,
      provided that appropriate credit is given to the
      <strong>Consorcio Regional de Transportes de Madrid (CRTM)</strong> as the source of the original data.
    </p>
    <p>
      Users must include proper attribution, link to the license, and indicate if any modifications were made.
      No additional restrictions apply.
    </p>
  </section>

  <section>
    <h2>Resource Naming Strategy</h2>
    <p>
      The resource naming strategy for this project follows Linked Data best practices to ensure
      clear separation between ontology resources and data instances, as well as proper URI design
      for different entity types.
    </p>

    <h3>Base URI and Domain</h3>
    <p>
      The base URI for all resources is:
    </p>
    <div class="code-block">
      <code>http://crtm-urban-buses.org/opendata/handsOn/group11/</code>
    </div>
    <p>
      This domain was chosen to:
    </p>
    <ul>
      <li>Avoid using default Protégé namespaces (e.g., <code>semanticweb.org</code>)</li>
      <li>Reflect the project context (CRTM urban buses)</li>
      <li>Provide semantic meaning and organization (opendata/handsOn/group11)</li>
    </ul>

    <h3>Ontology Namespace</h3>
    <p>
      All classes and properties are defined under the ontology namespace:
    </p>
    <div class="code-block">
      <code>http://crtm-urban-buses.org/opendata/handsOn/group11/ontology#</code>
    </div>
    <p>
      This namespace uses the hash (<code>#</code>) fragment identifier pattern, which is suitable for ontologies
      and allows all ontology resources to be retrieved with a single HTTP request.
    </p>
    <p><strong>Examples:</strong></p>
    <ul>
      <li><code>ont:BusRoute</code> → <code>http://...group11/ontology#usRoute</code></li>
      <li><code>ont:hasTrip</code> → <code>http://...group11/ontology#hasTrip</code></li>
      <li><code>ont:routeShortName</code> → <code>http://...group11/ontology#outeShortName</code></li>
    </ul>

    <h3>Individual Resources (Data Instances)</h3>
    <p>
      Individual resources use <strong>different paths</strong> depending on their class type,
      ensuring clear separation and independent URI design. The slash (<code>/</code>) pattern
      is used for individuals to allow for content negotiation and scalability.
    </p>

    <table>
      <thead>
        <tr>
          <th>Entity Type</th>
          <th>URI Pattern</th>
          <th>Example</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Feed Info</strong></td>
          <td><code>.../resource/feedinfo/{feedInfoId}</code></td>
          <td><code>.../resource/feedinfo/2025-01-01</code></td>
        </tr>
        <tr>
          <td><strong>Agency</strong></td>
          <td><code>.../resource/agency/{agencyId}</code></td>
          <td><code>.../resource/agency/CRTM</code></td>
        </tr>
        <tr>
          <td><strong>Bus Route</strong></td>
          <td><code>.../resource/route/{routeId}</code></td>
          <td><code>.../resource/route/001</code></td>
        </tr>
        <tr>
          <td><strong>Trip</strong></td>
          <td><code>.../resource/trip/{tripId}</code></td>
          <td><code>.../resource/trip/12345</code></td>
        </tr>
        <tr>
          <td><strong>Stop</strong></td>
          <td><code>.../resource/stop/{stopId}</code></td>
          <td><code>.../resource/stop/puerta-del-sol</code></td>
        </tr>
        <tr>
          <td><strong>Stop Time</strong></td>
          <td><code>.../resource/stoptime/{stoptimeId}</code></td>
          <td><code>.../resource/stoptime/st-001</code></td>
        </tr>
        <tr>
          <td><strong>Calendar Service</strong></td>
          <td><code>.../resource/service/{serviceId}</code></td>
          <td><code>.../resource/service/weekday</code></td>
        </tr>
        <tr>
          <td><strong>Calendar Exception</strong></td>
          <td><code>.../resource/exception/{exceptionId}</code></td>
          <td><code>.../resource/exception/holiday-2025-12-25</code></td>
        </tr>
        <tr>
          <td><strong>Shape</strong></td>
          <td><code>.../resource/shape/{shapeId}</code></td>
          <td><code>.../resource/shape/shape-001</code></td>
        </tr>
      </tbody>
    </table>

    <h3>Key Design Principles</h3>
    <ol>
      <li>
        <strong>Separation of Concerns:</strong> Ontology resources (<code>/ontology#</code>) are completely
        separated from data instances (<code>/resource/...</code>).
      </li>
      <li>
        <strong>Class-Specific Paths:</strong> Each class type has its own distinct path segment
        (e.g., <code>/route/</code>, <code>/stop/</code>, <code>/trip/</code>), preventing URI collisions
        and improving data organization.
      </li>
      <li>
        <strong>URI Independence:</strong> Individual URIs are constructed independently from class URIs.
        For example, a bus route instance URI (<code>.../resource/route/001</code>) does not derive from
        or depend on the class URI (<code>.../ontology#BusRoute</code>).
      </li>
      <li>
        <strong>Human-Readable Identifiers:</strong> URIs use meaningful identifiers (e.g., <code>puerta-del-sol</code>)
        rather than arbitrary numbers when appropriate, improving readability and maintainability.
      </li>
      <li>
        <strong>Scalability:</strong> The slash-based pattern for individuals allows for future implementation
        of content negotiation and HTTP redirects to serve different representations (HTML, RDF/XML, JSON-LD, etc.).
      </li>
    </ol>

    <h3>Content Negotiation (Future Implementation)</h3>
    <p>
      Although not implemented in this assignment, the URI design supports future content negotiation:
    </p>
    <ul>
      <li><strong>HTML representation:</strong> <code>Accept: text/html</code> → Human-readable webpage</li>
      <li><strong>RDF/Turtle:</strong> <code>Accept: text/turtle</code> → Machine-readable RDF data</li>
      <li><strong>JSON-LD:</strong> <code>Accept: application/ld+json</code> → JSON-LD format</li>
    </ul>

    <h3>Example URI Structure</h3>
    <div class="code-block">
      <pre>
# Ontology (Classes and Properties)
http://crtm-urban-buses.org/opendata/handsOn/group11/ontology#BusRoute
http://crtm-urban-buses.org/opendata/handsOn/group11/ontology#hasTrip

-# Data Instances (Different paths for different classes)
http://crtm-urban-buses.org/opendata/handsOn/group11/resource/route/001
http://crtm-urban-buses.org/opendata/handsOn/group11/resource/stop/puerta-del-sol
http://crtm-urban-buses.org/opendata/handsOn/group11/resource/trip/12345
</pre>
    </div>

    <h3>Namespace Prefixes Used</h3>
    <div class="code-block">
      <pre>
@prefix base: &lt;http://crtm-urban-buses.org/opendata/handsOn/group11&gt; .
@prefix ont: &lt;http://crtm-urban-buses.org/opendata/handsOn/group11/ontology#&gt; .
@prefix feed: &lt;http://crtm-urban-buses.org/opendata/handsOn/group11/resource/feedinfo/&gt;
@prefix agency: &lt;http://crtm-urban-buses.org/opendata/handsOn/group11/resource/agency/&gt;
@prefix route: &lt;http://crtm-urban-buses.org/opendata/handsOn/group11/resource/route/&gt; .
@prefix trip: &lt;http://crtm-urban-buses.org/opendata/handsOn/group11/resource/trip/&gt; .
@prefix shape: &lt;http://crtm-urban-buses.org/opendata/handsOn/group11/resource/shape/&gt; .
@prefix stop: &lt;http://crtm-urban-buses.org/opendata/handsOn/group11/resource/stop/&gt; .
@prefix stoptime: &lt;http://crtm-urban-buses.org/opendata/handsOn/group11/resource/stoptime/&gt; .
@prefix service: &lt;http://crtm-urban-buses.org/opendata/handsOn/group11/resource/calendarservice/&gt; .
@prefix exception: &lt;http://crtm-urban-buses.org/opendata/handsOn/group11/resource/calendarexception/&gt; .
</pre>
    </div>
  </section>


<pre>
  <div>
    <h1>Dataset files column type analysis</h1>
    <p>For more info please reffer to the official <a href="https://gtfs.org/documentation/schedule/reference/#general-transit-feed-specification-reference" target="_blank">documentation</a> that we used as reference.
    </p>
    <section>
      <h2>shapes.txt</h2>
        <sub>
            ->Describes the path of travel of the public trasist vehicles.
        </sub>
        <strong>shape_id: </strong>Identifier, String type
        <strong>shape_pt_lat: </strong>Coordinates, type Signed Float
        <strong>shape_pt_lon: </strong>Coordinates, type Signed Float
        <strong>shape_pt_sequence: </strong>Order number, type Integer
        <strong>shape_dist_traveled: </strong>Distance, type Float
      </p>
    </section>
    <section>
      <h2>stop_times.txt</h2>
        <sub>
          ->Times at which a public trasport vehicle arrives at and leaves stops for each trip.
        </sub>
        <strong>trip_id: </strong>Identifier, foreign key, type String
        <strong>arrival_time: </strong>Time, type Time/String
        <strong>departure_time: </strong>Time, type Time/String
        <strong>stop_id: </strong>Identifier, foreign key, type String
        <strong>stop_sequence: </strong>Order number, type Integer
        <strong>stop_headsign: </strong>Descriptor, type String
        <strong>pickup_type: </strong>Enumerator type Integer
        <strong>drop_off_type: </strong>Enumerator type Integer
        <strong>shape_dist_traveled: </strong>Type Unsigned Float
      </section>
      <section>
      <h2> stops.txt</h2>
        <sub>
          ->Stops or stations at which a public trasport vehicles pick up or drop off passengers.
        </sub>
        <strong>stop_id: </strong>Identifier, String type
        <strong>stop_code: </strong>Secondary identifier, type String
        <strong>stop_name:	Descriptor, type String
        <strong>stop_desc:	Descriptor, type String
        <strong>stop_lat: </strong>Coordinates, type Signed Float
        <strong>stop_lon: </strong>Coordinates, type Signed Float
        <strong>zone_id: </strong>Identifier, String type
        <strong>stop_url: </strong>URL, type String
        <strong>parent_station: </strong>Station, type string
        <strong>stop_timezone: </strong>Time Zone, type String
        <strong>wheelchair_boarding: </strong>Location type enumerator, type Integer
      </section>
      <section>
        <h2>trips.txt </h2>
        <sub>
          ->Trips for each route.
        </sub>
        <strong>route_id: </strong>Identifier, foreign key, type String
        <strong>service_id: </strong>Identifier, foreign key, type String
        <strong>trip_id: </strong>Identifier, String type
        <strong>trip_headsign: </strong>Descriptor, type String
        <strong>trip_short_name: </strong>Descriptor, type String
        <strong>direction_id: </strong>sentido de la marcha, Enumerator type Integer
        <strong>block_id: </strong>Identifier, String type (desconocido)
        <strong>shape_id: </strong>Identifier, foreign key, type String
        <strong>wheelchair_accessible: </strong>Descriptor, Enumerator type Integer
      </section>
      <section>
      <h2>agency.txt</h2>
        <sub>
          ->Public transit agencies present in the dataset.
        </sub>
        <strong>agency_id: </strong>Identifier, String type
        <strong>agency_name: </strong>Descriptor, type String
        <strong>agency_url: </strong>URL, type String
        <strong>agency_timezone: </strong>Time Zone, type String
        <strong>agency_lang: </strong>Language code, type string
        <strong>agency_phone: </strong>Phone number, Type integer (unless it includes the "+" in the prefix)
        <strong>agency_fare_url: </strong>URL, type String
      </section>
      <section>
      <h2>calendar.txt</h2>
        <sub>
          ->Dates at which public transit is available.
        </sub>
        <strong>service_id: </strong>Identifier, String type
        <strong>monday: </strong>Enum/Boolean, type Integer/Bit/Boolean
        <strong>tuesday: </strong>Enum/Boolean, type Integer/Bit/Boolean
        <strong>wednesday: </strong>Enum/Boolean, type Integer/Bit/Boolean
        <strong>thursday: </strong>Enum/Boolean, type Integer/Bit/Boolean
        <strong>friday: </strong>Enum/Boolean, type Integer/Bit/Boolean
        <strong>saturday: </strong>Enum/Boolean, type Integer/Bit/Boolean
        <strong>sunday: </strong>Enum/Boolean, type Integer/Bit/Boolean
        <strong>start_date: </strong>Start Date, type Date
        <strong>end_date: </strong>End Date, type Date
      </section>
      <section>
      <h2>calendar_dates.txt</h2>
        <sub>
          ->Dates at which public transit is not available exceptionally.
        </sub>
        <strong>service_id: </strong>Identifier, foreign key, type String
        <strong>date: </strong>Exceptiond date, type Date
        <strong>exception_type: </strong>Enumerator, type Integer
      </section>
      <section>
      <h2>fare_atributes.txt</h2>
        <sub>
          ->Information about the fares
        </sub>
        <strong>fare_id: </strong>Identifier, type String
        <strong>price: </strong>Price, type Unsigned Float
        <strong>currency_type: </strong>currency code, type String
        <strong>payment_method: </strong>moment of payment, Enumerador type Integer
        <strong>transfers: </strong>Enumerator, type Integer
        <strong>transfer_duration: </strong>duration_limit, type Unsigned Integer
      </section>
      <section>
      <h2>fare_rules.txt</h2>
        <sub>
          ->Rules regarding the fares
        </sub>
        <strong>fare_id: </strong>Identifier, foreign key, type String
        <strong>route_id: </strong>Identifier, foreign key, type String
        <strong>origin_id: </strong>Identifier, foreign key, type String
        <strong>destination_id: </strong>Identifier, foreign key, type String
        <strong>contains_id: </strong>Identifier, foreign key, type String
      </section>
      <section>
      <h2>feed_info.txt</h2>
        <sub>
          ->Dataset metadata.
        </sub>
        <strong>feed_publisher_name: </strong>Descriptor, type String
        <strong>feed_publisher_url: </strong>URL, type String
        <strong>feed_lang: </strong>Language code, type string
        <strong>feed_start_date: </strong>Start Date, type Date
        <strong>feed_end_date: </strong>End Date, type Date
        <strong>feed_version: </strong>Descriptor, type String
      </section>
      <section>
      <h2>frequencies.txt</h2>
        <sub>
          ->Time between trips.
        </sub>
        <strong>trip_id: </strong>Identifier, foreign key, type String
        <strong>start_time: </strong>Start time, type Time
        <strong>end_time: </strong>End time, type Time
        <strong>headway_secs: </strong>Time in seconds, type Unsigned Integer
        <strong>exact_times: </strong>Enum/Boolean, type Integer/Bit/Boolean
      </section>
      <section>
      <h2>routes.txt</h2>
        <sub>
          ->Routes of the public transit system
        </sub>
        <strong>route_id: </strong>Identifier, String type
        <strong>agency_id: </strong>Identifier, foreign key, type String
        <strong>route_short_name: </strong>Descriptor, type String
        <strong>route_long_name: </strong>Descriptor, type String
        <strong>route_desc: </strong>Descriptor, type String
        <strong>route_type: </strong>Enumerator, type Integer
        <strong>route_url: </strong>URL, type String
        <strong>route_color: </strong>color code in Hexadecimal, type String
        <strong>route_text_color: </strong>color code in Hexadecimal, type String
      </section>
    </p>
  </div>
</pre>
</body>

</html>